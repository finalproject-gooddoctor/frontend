{"ast":null,"code":"import _classCallCheck from \"/Users/mohrahalateeq/code/wdi/projects/project4/FinalProject/doctor/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/mohrahalateeq/code/wdi/projects/project4/FinalProject/doctor/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/mohrahalateeq/code/wdi/projects/project4/FinalProject/doctor/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/mohrahalateeq/code/wdi/projects/project4/FinalProject/doctor/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/mohrahalateeq/code/wdi/projects/project4/FinalProject/doctor/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/mohrahalateeq/code/wdi/projects/project4/FinalProject/doctor/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/mohrahalateeq/code/wdi/projects/project4/FinalProject/doctor/src/components/Home.js\";\nimport React, { Component } from 'react';\nimport Drinformation from './Drinformation';\nimport CommentBox from './CommentBox';\nimport Comments from './Comments';\nimport Info from './Info'; //import Map from './Map';\n//import {GoogleApiWrapper} from 'google-maps-react';\n//import {Map, InfoWindow, Marker, GoogleApiWrapper} from 'google-maps-react';\n\nimport PatientProfile from './PatientProfile'; //import { CurrentLocation } from './components/CurrentLocation';\n//let map;\n\nvar Home =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Home, _Component);\n\n  function Home(props) {\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Home).call(this, props));\n    _this.handleAddComment = _this.handleAddComment.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      comments: [],\n      isLoaded: false\n    };\n    return _this;\n  }\n\n  _createClass(Home, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      /*global Ably*/\n      var channel = Ably.channels.get('comments');\n      channel.attach();\n      channel.once('attached', function () {\n        channel.history(function (err, page) {\n          // create a new array with comments only in an reversed order (i.e old to new)\n          var comments = Array.from(page.items.reverse(), function (item) {\n            return item.data;\n          });\n\n          _this2.setState({\n            comments: comments\n          });\n        });\n      });\n    }\n  }, {\n    key: \"handleAddComment\",\n    value: function handleAddComment(comment) {\n      this.setState(function (prevState) {\n        return {\n          comments: prevState.comments.concat(comment)\n        };\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, \" Home \"), React.createElement(\"section\", {\n        className: \"section\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"columns\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"column is-half is-offset-one-quarter\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(CommentBox, {\n        handleAddComment: this.handleAddComment,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }), React.createElement(Comments, {\n        comments: this.state.comments.reverse(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }))))));\n    }\n  }]);\n\n  return Home;\n}(Component);\n\nexport default Home;","map":{"version":3,"sources":["/Users/mohrahalateeq/code/wdi/projects/project4/FinalProject/doctor/src/components/Home.js"],"names":["React","Component","Drinformation","CommentBox","Comments","Info","PatientProfile","Home","props","handleAddComment","bind","state","comments","isLoaded","channel","Ably","channels","get","attach","once","history","err","page","Array","from","items","reverse","item","data","setState","comment","prevState","concat"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,IAAP,MAAiB,QAAjB,C,CACA;AACA;AACA;;AAEA,OAAOC,cAAP,MAA2B,kBAA3B,C,CACA;AACA;;IAEMC,I;;;;;AACJ,gBAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AAChB,8EAAMA,KAAN;AACA,UAAKC,gBAAL,GAAwB,MAAKA,gBAAL,CAAsBC,IAAtB,uDAAxB;AACA,UAAKC,KAAL,GAAW;AACTC,MAAAA,QAAQ,EAAC,EADA;AAETC,MAAAA,QAAQ,EAAC;AAFA,KAAX;AAHgB;AAQjB;;;;wCACmB;AAAA;;AAClB;AACA,UAAMC,OAAO,GAAGC,IAAI,CAACC,QAAL,CAAcC,GAAd,CAAkB,UAAlB,CAAhB;AAEAH,MAAAA,OAAO,CAACI,MAAR;AACEJ,MAAAA,OAAO,CAACK,IAAR,CAAa,UAAb,EAAyB,YAAM;AAC7BL,QAAAA,OAAO,CAACM,OAAR,CAAgB,UAACC,GAAD,EAAMC,IAAN,EAAe;AAC7B;AACA,cAAMV,QAAQ,GAAGW,KAAK,CAACC,IAAN,CAAWF,IAAI,CAACG,KAAL,CAAWC,OAAX,EAAX,EAAiC,UAAAC,IAAI;AAAA,mBAAIA,IAAI,CAACC,IAAT;AAAA,WAArC,CAAjB;;AAEA,UAAA,MAAI,CAACC,QAAL,CAAc;AAAEjB,YAAAA,QAAQ,EAARA;AAAF,WAAd;AACD,SALD;AAMD,OAPD;AAQH;;;qCACgBkB,O,EAAS;AACxB,WAAKD,QAAL,CAAc,UAAAE,SAAS,EAAI;AACzB,eAAO;AACLnB,UAAAA,QAAQ,EAAEmB,SAAS,CAACnB,QAAV,CAAmBoB,MAAnB,CAA0BF,OAA1B;AADL,SAAP;AAGD,OAJD;AAKD;;;6BACQ;AAEL,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADQ,EAWE;AAAS,QAAA,SAAS,EAAC,SAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEE;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,sCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEE,oBAAC,UAAD;AAAY,QAAA,gBAAgB,EAAE,KAAKrB,gBAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EAGE,oBAAC,QAAD;AAAU,QAAA,QAAQ,EAAE,KAAKE,KAAL,CAAWC,QAAX,CAAoBc,OAApB,EAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHF,CADF,CADF,CAFF,CAXF,CADF;AA+BH;;;;EAhEgBzB,S;;AAmEnB,eAAeM,IAAf","sourcesContent":["import React, { Component } from 'react';\nimport Drinformation from './Drinformation';\nimport CommentBox from './CommentBox';\nimport Comments from './Comments'; \nimport Info from './Info';\n//import Map from './Map';\n//import {GoogleApiWrapper} from 'google-maps-react';\n//import {Map, InfoWindow, Marker, GoogleApiWrapper} from 'google-maps-react';\n\nimport PatientProfile from './PatientProfile';\n//import { CurrentLocation } from './components/CurrentLocation';\n//let map;\n\nclass Home extends Component {\n  constructor(props){\n    super(props);\n    this.handleAddComment = this.handleAddComment.bind(this);\n    this.state={\n      comments:[],\n      isLoaded:false,\n    \n    }\n  }\n  componentDidMount() {\n    /*global Ably*/\n    const channel = Ably.channels.get('comments');\n   \n    channel.attach();\n      channel.once('attached', () => {\n        channel.history((err, page) => {\n          // create a new array with comments only in an reversed order (i.e old to new)\n          const comments = Array.from(page.items.reverse(), item => item.data)\n   \n          this.setState({ comments });\n        });\n      });\n  }\n  handleAddComment(comment) {\n    this.setState(prevState => {\n      return {\n        comments: prevState.comments.concat(comment)\n      };\n    });\n  }\n  render() {\n\n      return (\n        <div>\n<h1> Home </h1>\n          {/* <h1> Home </h1>\n        <Drinformation setActivePage={this.props.setActivePage.bind(this)}/>  \n          <Info setActivePage={this.props.setActivePage.bind(this)}/>\n          <PatientProfile setActivePage={this.props.setActivePage.bind(this)}/>\n         {/* <CurrentLocation/> \n\n          <div className=\"map\">\n          {/* <MapContainer/> */}\n\n          <section className=\"section\">\n          \n            <div className=\"container\">\n              <div className=\"columns\">\n                <div className=\"column is-half is-offset-one-quarter\">\n                  \n                  <CommentBox handleAddComment={this.handleAddComment} />\n                  <Comments comments={this.state.comments.reverse()} />\n                </div>\n              </div>\n            </div>\n          </section>\n         </div> \n\n         \n     \n   \n    \n    );\n  }\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}